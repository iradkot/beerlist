<html>

<head>
    <link href="bootstrap/dist/css/bootstrap.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="style.css">
</head>

<body ng-app="beerList">
    <div class="container" ng-controller="mainController">
        <div class="row">
            <div class="col-md-6 col-md-offset-3">
                <h1 class="text-center">BeerList</h1>
                <div class="page-header">
                </div>
                <!-- render beers here -->
                <form ng-submit="addBeer({name: name, style: style, abv: abv, image_url: image})">
                    <h3>Add a new beer</h3>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Beer Name" ng-model="name"></input>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Style" ng-model="style"></input>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="ABV" ng-model="abv"></input>
                    </div>
                    <div class="form-group">
                        <input type="text" class="form-control" placeholder="Image URL" ng-model="image"></input>
                    </div>
                    <button type="submit" class="btn btn-primary">Add</button>
                </form>
                <div>
                    <div class="page-header">
                    </div>
                    <h4>Sort by: {{order.type}}</h4>
                    <div class="btn-group">
                        <button type="button" class="btn btn-primary" ng-click="order.type==='name'? order.type = '-name': order.type = 'name'">name</button>
                        <button type="button" class="btn btn-primary" ng-click="order.type==='average'? order.type='-average': order.type='average'">rating</button>
                        <button type="button" class="btn btn-primary" ng-click="order.type==='abv'? order.type='-abv': order.type='abv'">ABV</button>
                    </div>
                </div>
            </div>
            <div class="col-md-4 beer-box" ng-repeat="beer in beers | orderBy: order.type">
                <section class="show beer" ng-show="beer.edit.show">
                    <div class="page-header">
                    </div>
                    <div class="row">
                        <div class="col-md-4 rating">
                            <div class="row">
                                <!--Star Rating start-->
                                <select ng-model="rating">
                                    <option value="1">1</option>
                                    <option value="2">2</option>
                                    <option value="3">3</option>
                                    <option value="4">4</option>
                                    <option value="5">5</option>
                                </select>

                                <!--Star Rating end-->
                            </div>
                            <div class="row">
                                <button class="btn-primary" ng-click="addRating(beer._id, rating)">Add rating </button>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <h3>{{beer.name}}, <small>{{beer.style}}</small></h3>
                            <small>abv:{{beer.abv}}%</small>
                        </div>
                        <div class="col-md-4">
                            <button type="button" class="btn btn-danger pull-right remove-beer" ng-click="removeBeer(beer)">Remove </button>
                            <button type="button" class="btn btn-warning pull-right" ng-click="beer.edit.clicked()">Edit Beer </button>
                        </div>
                    </div>
                    <div class="row">
                        <img class="beerImages" ng-src="{{beer.image_url}}">
                    </div>
                    <div class="row">
                        <h5 ng-show="beer.average">Rating: {{beer.average}}</h5>
                        <h5 ng-hide="beer.average">this beer havn't been rated yet</h5>
                    </div>
                </section>
                <section class="edit-beer" ng-hide="beer.edit.show">
                    <button type="button" class="btn btn-warning pull-right" ng-click="beer.edit.clicked()">Edit Beer </button>
                </section>
            </div>
        </div>
    </div>
    <script src="angular/angular.js"></script>
    <script src="js/app.js"></script>
    <script src="js/services/beerFactory.js"></script>
    <script src="js/controllers/mainController.js"></script>
</body>

</html>